{
  "version": "3.1",
  "services": {
    "nginx": {
      "image": "linkit360ru/xmp-nginx:latest",
      "build": {
        "context": "../nginx"
      },
      "links": [
        "php"
      ],
      "environment": [
        "PROJECT_ENV=development"
      ],
      "volumes": [
        "../php/app/frontend/web:/app/frontend/web"
      ]
    },
    "php": {
      "image": "linkit360ru/xmp-php:latest",
      "links": [
        "sql"
      ],
      "ports": [
      ],
      "build": {
        "context": "../php"
      },
      "environment": [
        "PROJECT_ENV=development"
      ],
      "volumes": [
        "../php/app:/app",
        "../php/composer:/composer",
        "../php/config:/config"
      ]
    },
    "go": {
      "image": "linkit360ru/xmp-go:latest",
      "build": {
        "context": "../go"
      },
      "links": [
        "php",
        "sql"
      ],
      "environment": [
        "PROJECT_ENV=development"
      ],
      "volumes": [
        "../go/config:/go/config",
        "../go/src/acceptor:/go/src/acceptor"
      ]
    },
    "sql": {
      "image": "linkit360ru/xmp-sql:latest",
      "build": {
        "context": "../sql"
      },
      "ports": [
        "5432:5432"
      ],
      "environment": [
        "POSTGRES_USER=local",
        "POSTGRES_PASSWORD=local",
        "POSTGRES_DB=development",
        "PGDATA=/data"
      ],
      "volumes": [
        "../sql/data:/data"
      ]
    }
  }
}
